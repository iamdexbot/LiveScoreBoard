<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Basketball Scoreboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow+Condensed:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="flash" id="flash"></div>

  <div class="scoreboard">

    <!-- Header -->
    <div class="header" id="mainHeader">
      <span class="header-logo header-logo-link" id="headerLeagueName" onclick="openLeagueEditor()" title="Edit league name">â¬¡ Hoops</span>
      <span class="period-label" id="periodLabel">1st Quarter</span>
      <span class="header-logo" style="opacity:0.4">Scoreboard</span>
    </div>

    <!-- Main scores -->
    <div class="main">

      <!-- Home Team -->
      <div class="team home">
        <input class="team-name-input" id="homeName" value="HOME" maxlength="8" />
        <div class="score-display" id="homeScore">0</div>
        <div class="score-btns">
          <button class="btn pts1" onclick="addScore('home', 1)">+1</button>
          <button class="btn pts2" onclick="addScore('home', 2)">+2</button>
          <button class="btn pts3" onclick="addScore('home', 3)">+3</button>
          <button class="btn minus" onclick="addScore('home', -1)">âˆ’</button>
        </div>
        <!-- Logo upload -->
        <div class="logo-upload-zone" id="homeLogoZone" onclick="document.getElementById('homeLogoInput').click()" title="Upload team logo">
          <img class="logo-preview" id="homeLogoImg" src="" alt="" style="display:none;" />
          <span class="logo-placeholder" id="homeLogoPlaceholder">ï¼‹ Logo</span>
          <button class="logo-remove" id="homeLogoRemove" onclick="removeLogo(event,'home')" style="display:none;" title="Remove">âœ•</button>
        </div>
        <input type="file" id="homeLogoInput" accept="image/*" style="display:none;" onchange="uploadLogo(event,'home')" />
      </div>

      <!-- Center -->
      <div class="center">

        <!-- Quarter Clock -->
        <div class="clock-section">
          <div class="section-label">QUARTER CLOCK</div>
          <div class="timer" id="timer">12:00.00</div>
          <div class="timer-controls">
            <div class="btn-icon" id="playBtn" onclick="toggleTimer()" title="Start / Stop">â–¶</div>
            <div class="btn-icon" onclick="resetTimer()" title="Reset Clock">â†º</div>
            <div class="btn-icon edit-mins-btn" onclick="openMinsEditor()" title="Set minutes per quarter">âœŽ</div>
          </div>
        </div>

        <!-- Period -->
        <div class="period-control">
          <div class="period-num" id="periodNum">1</div>
          <div class="period-sub">Period</div>
          <div class="period-btns">
            <div class="btn-icon sm" onclick="changePeriod(-1)">âˆ’</div>
            <div class="btn-icon sm" onclick="changePeriod(1)">+</div>
          </div>
        </div>

        <!-- Shot Clock -->
        <div class="shot-clock-section">
          <div class="section-label">SHOT CLOCK</div>
          <div class="shot-clock" id="shotClock">24</div>
          <div class="shot-clock-controls">
            <div class="btn-icon sc-btn" onclick="setShotClock(24)" title="Set 24s">24</div>
            <div class="btn-icon sc-btn" onclick="setShotClock(14)" title="Set 14s">14</div>
            <div class="btn-icon" id="scPlayBtn" onclick="toggleShotClock()" title="Start / Stop Shot Clock">â–¶</div>
            <div class="btn-icon" onclick="resetShotClock()" title="Reset Shot Clock">â†º</div>
          </div>
        </div>

      </div>

      <!-- Away Team -->
      <div class="team away">
        <input class="team-name-input" id="awayName" value="AWAY" maxlength="8" />
        <div class="score-display" id="awayScore">0</div>
        <div class="score-btns">
          <button class="btn pts1" onclick="addScore('away', 1)">+1</button>
          <button class="btn pts2" onclick="addScore('away', 2)">+2</button>
          <button class="btn pts3" onclick="addScore('away', 3)">+3</button>
          <button class="btn minus" onclick="addScore('away', -1)">âˆ’</button>
        </div>
        <!-- Logo upload -->
        <div class="logo-upload-zone" id="awayLogoZone" onclick="document.getElementById('awayLogoInput').click()" title="Upload team logo">
          <img class="logo-preview" id="awayLogoImg" src="" alt="" style="display:none;" />
          <span class="logo-placeholder" id="awayLogoPlaceholder">ï¼‹ Logo</span>
          <button class="logo-remove" id="awayLogoRemove" onclick="removeLogo(event,'away')" style="display:none;" title="Remove">âœ•</button>
        </div>
        <input type="file" id="awayLogoInput" accept="image/*" style="display:none;" onchange="uploadLogo(event,'away')" />
      </div>

    </div><!-- /main -->

    <!-- Fouls row -->
    <div class="fouls-row">
      <div class="fouls-panel">
        <span class="fouls-label">Fouls</span>
        <div class="fouls-dots" id="homeDotsContainer"></div>
        <span class="fouls-count" id="homeFoulsCount">0</span>
      </div>
      <div class="fouls-panel">
        <span class="fouls-count" id="awayFoulsCount">0</span>
        <div class="fouls-dots" id="awayDotsContainer"></div>
        <span class="fouls-label">Fouls</span>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div class="possession">
        <span class="poss-label">Possession</span>
        <div class="poss-arrow home" id="possHome" onclick="setPossession('home')" title="Home ball"></div>
        <div class="poss-arrow away inactive" id="possAway" onclick="setPossession('away')" title="Away ball"></div>
      </div>
      <button class="buzzer-btn" onclick="buzzer()">ðŸ”” Buzzer</button>
      <div style="display:flex;gap:8px;align-items:center;">
        <button class="theme-btn" onclick="openThemeModal()" title="Change theme">ðŸŽ¨ Theme</button>
        <button class="reset-btn" onclick="resetAll()">Reset All</button>
        <button class="viewer-link-btn" onclick="window.open('viewer.html','_blank')">ðŸ“º Open Viewer</button>
      </div>
    </div>

  </div><!-- /scoreboard -->

  <!-- â”€â”€ Minutes-per-quarter modal â”€â”€ -->
  <div class="modal-overlay" id="minsModal">
    <div class="modal">
      <div class="modal-title">Minutes Per Quarter</div>
      <div class="modal-body">
        <div class="mins-options">
          <button class="mins-opt" onclick="setMinsPerQuarter(5)">5</button>
          <button class="mins-opt" onclick="setMinsPerQuarter(10)">10</button>
          <button class="mins-opt" onclick="setMinsPerQuarter(12)">12</button>
          <button class="mins-opt" onclick="setMinsPerQuarter(15)">15</button>
          <button class="mins-opt" onclick="setMinsPerQuarter(20)">20</button>
        </div>
        <div class="custom-mins">
          <input type="number" id="customMins" min="1" max="60" placeholder="Custom (1â€“60)" />
          <button class="btn" onclick="applyCustomMins()">Set</button>
        </div>
      </div>
      <button class="modal-close" onclick="closeMinsEditor()">âœ• Close</button>
    </div>
  </div>

  <!-- â”€â”€ Theme picker modal â”€â”€ -->
  <div class="modal-overlay" id="themeModal">
    <div class="modal theme-modal">
      <div class="modal-title">ðŸŽ¨ Theme Colors</div>
      <div class="modal-body">

        <!-- Preset themes -->
        <div class="theme-section-label">Presets</div>
        <div class="theme-presets" id="themePresets"></div>

        <!-- Custom colors -->
        <div class="theme-section-label" style="margin-top:18px;">Custom Colors</div>
        <div class="theme-custom-grid">
          <div class="theme-custom-row">
            <label>Header / Accent</label>
            <input type="color" id="colorAccent"   value="#FF5E1A" oninput="applyCustomTheme()" />
          </div>
          <div class="theme-custom-row">
            <label>Home Team</label>
            <input type="color" id="colorHome"     value="#FF5E1A" oninput="applyCustomTheme()" />
          </div>
          <div class="theme-custom-row">
            <label>Away Team</label>
            <input type="color" id="colorAway"     value="#00C2FF" oninput="applyCustomTheme()" />
          </div>
          <div class="theme-custom-row">
            <label>Clock</label>
            <input type="color" id="colorClock"    value="#FFD600" oninput="applyCustomTheme()" />
          </div>
          <div class="theme-custom-row">
            <label>Background</label>
            <input type="color" id="colorBg"       value="#0D0D0D" oninput="applyCustomTheme()" />
          </div>
          <div class="theme-custom-row">
            <label>Panel</label>
            <input type="color" id="colorPanel"    value="#161616" oninput="applyCustomTheme()" />
          </div>
        </div>
      </div>
      <button class="modal-close" onclick="closeThemeModal()">âœ• Close</button>
    </div>
  </div>

  <!-- â”€â”€ League name modal â”€â”€ -->
  <div class="modal-overlay" id="leagueModal">
    <div class="modal" style="min-width:280px;">
      <div class="modal-title">League Name</div>
      <div class="modal-body">
        <div class="custom-mins">
          <input type="text" id="leagueInput" maxlength="20" placeholder="e.g. NBA, PBA, UAAP" style="width:200px;font-family:'Barlow Condensed',sans-serif;font-size:18px;background:var(--panel2);border:1.5px solid #444;color:var(--text);padding:8px 12px;border-radius:2px;outline:none;letter-spacing:1px;" />
          <button class="btn" onclick="applyLeagueName()">Set</button>
        </div>
      </div>
      <button class="modal-close" onclick="closeLeagueEditor()">âœ• Close</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
